/* ═══════════════════════════════════════════════════════════════════════════
   THEME SWITCHER — Refined light/dark mode toggle with SVG icons
   ═══════════════════════════════════════════════════════════════════════════ */

.themeSwitcher {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--touch-target-comfortable);
  height: var(--touch-target-comfortable);
  cursor: pointer;
  border-radius: var(--radius-full);
  border: none;
  background-color: transparent;
  color: var(--text-secondary);

  /* Touch optimization */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  user-select: none;

  /* GPU acceleration */
  will-change: transform, background-color, color;

  transition:
    color var(--duration-fast) var(--ease-out),
    background-color var(--duration-fast) var(--ease-out),
    transform var(--duration-normal) var(--ease-spring-1);
}

.themeSwitcher:disabled {
  cursor: default;
}

/* ─────────────────────────────────────────────────────────────────────────────
   DESKTOP HOVER STATES — Subtle, refined
   ───────────────────────────────────────────────────────────────────────────── */

@media (min-width: 768px) {
  .themeSwitcher:hover:not(:disabled) {
    color: var(--color-accent);
    background-color: var(--neutral-100);
    transform: translateY(-1px);
  }

  .themeSwitcher:active:not(:disabled) {
    transform: scale(0.95) translateY(0);
    transition-duration: var(--duration-instant);
  }
}

/* Focus state */
.themeSwitcher:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 var(--focus-ring-offset) var(--bg-color),
    0 0 0 calc(var(--focus-ring-offset) + var(--focus-ring-width)) var(--focus-ring-color);
}

/* ─────────────────────────────────────────────────────────────────────────────
   MOBILE TOUCH STATES — Immediate feedback
   ───────────────────────────────────────────────────────────────────────────── */

@media (max-width: 767px) {
  .themeSwitcher:active:not(:disabled) {
    color: var(--color-accent);
    background-color: var(--tap-highlight);
    transform: scale(0.92);
    transition-duration: 0ms;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────
   ICON CONTAINER
   ───────────────────────────────────────────────────────────────────────────── */

.switch {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  line-height: 1;
}

.switch svg {
  display: block;
}

/* ─────────────────────────────────────────────────────────────────────────────
   ICON ANIMATIONS — Gentle spring entrance
   ───────────────────────────────────────────────────────────────────────────── */

.switchLight,
.switchDark {
  animation: themeIconPop 0.35s var(--ease-spring-1) both;
}

.switchLoading {
  opacity: 0;
}
